<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¢¨å¢¨è¯´ï¼šMySQLæ•°æ®å­˜å‚¨æ­ç§˜</title>
    <script src="https://fastly.jsdelivr.net/npm/dom-to-image-more@2.8.0/dist/dom-to-image-more.min.js"></script>
    <style>
        .cards-container {
            display: flex;
            gap: 20px;
            padding: 20px;
            overflow-x: auto;
            background-color: #f0f0f0;
        }
        .card {
            width: 450px;
            height: 600px;
            background-color: #FAF7F0;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            padding: 25px;
            box-sizing: border-box;
            position: relative;
            background-image: repeating-linear-gradient(to bottom, transparent, transparent 23px, #E0E0E0 23px, #E0E0E0 24px);
        }
        .binder {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='20' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='10' cy='10' r='5' fill='%23ddd' stroke='%23bbb' stroke-width='1'/%3E%3C/svg%3E");
            background-repeat: repeat-x;
            background-size: 40px 20px;
        }
        .title-box {
            border: 2px solid #FF6B6B;
            border-radius: 8px;
            padding: 5px 10px;
            display: inline-block;
            margin-bottom: 15px;
            font-family: "LXGW WenKai Bold", "Noto Sans SC Bold", sans-serif;
            font-size: 22px;
            color: #333;
        }
        .subtitle {
            font-family: "LXGW WenKai", "Noto Sans SC", sans-serif;
            font-size: 18px;
            color: #4ECDC4;
            margin: 12px 0 8px 0;
            font-weight: 600;
        }
        .content {
            font-family: "Noto Sans SC", "PingFang SC", sans-serif;
            font-size: 16px;
            color: #333;
            line-height: 1.6;
        }
        .highlight {
            background-color: rgba(255, 223, 0, 0.5);
            padding: 0.1em 0.3em;
            border-radius: 3px;
        }
        .code {
            background-color: #f0f0f0;
            padding: 8px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            margin: 8px 0;
            overflow-x: auto;
        }
        .list-item {
            margin: 8px 0;
            position: relative;
            padding-left: 20px;
        }
        .list-item::before {
            content: "â€¢";
            color: #FF6B6B;
            position: absolute;
            left: 5px;
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        .table th, .table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            font-size: 14px;
        }
        .table th {
            background-color: rgba(78, 205, 196, 0.1);
        }
        .download-btn {
            margin: 10px 0;
            padding: 8px 16px;
            background-color: #4ECDC4;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: "Noto Sans SC", sans-serif;
        }
        .download-all-btn {
            margin: 20px;
            padding: 12px 24px;
            background-color: #FF6B6B;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: "Noto Sans SC", sans-serif;
            font-size: 16px;
        }
        .btn-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .emoji {
            font-size: 1.2em;
            margin-right: 5px;
        }
        .tag {
            display: inline-block;
            background-color: rgba(160, 210, 219, 0.3);
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 14px;
            margin: 3px;
            color: #333;
        }
    </style>
</head>
<body>
<div class="cards-container">
    <!-- å¡ç‰‡1ï¼šå°é¢ -->
    <div class="card" id="card1">
        <div class="binder"></div>
        <div style="text-align: center; padding-top: 100px;">
            <div class="title-box" style="font-size: 26px;">MySQLå­˜å‚¨æ­ç§˜</div>
            <p style="font-size: 20px; margin: 30px 0; font-family: 'LXGW WenKai';">æ•°æ®åªå­˜åœ¨ç¡¬ç›˜é‡Œå—ï¼Ÿ</p>
            <div style="margin: 50px 0;">
                <span class="tag">#æ•°æ®åº“</span>
                <span class="tag">#MySQL</span>
                <span class="tag">#ç¼–ç¨‹å¹²è´§</span>
            </div>
            <p style="font-size: 18px; color: #666; margin-top: 30px;">å¢¨å¢¨è¯´ Â· æ•°æ®åº“å°çŸ¥è¯†</p>
            <div style="margin-top: 50px; font-size: 14px; color: #999;">ğŸ‘‡ æ»‘åŠ¨çœ‹å¹²è´§</div>
        </div>
    </div>

    <!-- å¡ç‰‡2ï¼šå­˜å‚¨å±‚æ¬¡ -->
    <div class="card" id="card2">
        <div class="binder"></div>
        <div class="title-box">MySQLçš„"ä¸¤å±‚æ¥¼"å­˜å‚¨</div>
        <div class="content">
            MySQLä¸æ˜¯å•å­˜ç¡¬ç›˜ï¼Œè€Œæ˜¯ã€Œå†…å­˜+ç¡¬ç›˜ã€æ··åˆå­˜å‚¨å“¦ï¼<span class="emoji">âœ¨</span>

            <div class="subtitle">1. å†…å­˜å±‚ï¼ˆåŠ é€Ÿç”¨ï¼‰</div>
            <div class="list-item"><span class="emoji">âš¡</span>æ ¸å¿ƒç»„ä»¶ï¼š<span class="highlight">InnoDB Buffer Pool</span>ï¼ˆç¼“å­˜æ•°æ®å’Œç´¢å¼•ï¼Œå å†…å­˜50%-75%ï¼‰</div>
            <div class="list-item"><span class="emoji">âš ï¸</span>ç‰¹ç‚¹ï¼šé€Ÿåº¦å¿«ï¼ˆæ¯”ç¡¬ç›˜å¿«100-1000å€ï¼‰ï¼Œä½†<span class="highlight">ä¸æŒä¹…</span>ï¼ˆå´©æºƒä¼šä¸¢ï¼‰</div>

            <div class="subtitle">2. ç¡¬ç›˜å±‚ï¼ˆæŒä¹…åŒ–ï¼‰</div>
            <div class="list-item"><span class="emoji">ğŸ’¾</span>å­˜å‚¨æ–‡ä»¶ï¼šInnoDBçš„.ibdï¼ˆæ•°æ®+ç´¢å¼•ï¼‰ã€MyISAMçš„.MYDï¼ˆæ•°æ®ï¼‰å’Œ.MYIï¼ˆç´¢å¼•ï¼‰</div>
            <div class="list-item"><span class="emoji">ğŸ¢</span>ç‰¹ç‚¹ï¼šæ•°æ®èƒ½å­˜ä½ï¼Œä½†é€Ÿåº¦æ…¢ï¼ˆæœºæ¢°ç¡¬ç›˜çº¦100 IOPSï¼ŒSSDå¿«100å€ï¼‰</div>

            <div class="subtitle">3. æ··åˆæµç¨‹</div>
            <div class="list-item"><span class="emoji">ğŸ“¥</span>è¯»ï¼šå…ˆæŸ¥å†…å­˜ï¼Œæ²¡æœ‰å†è¯»ç¡¬ç›˜</div>
            <div class="list-item"><span class="emoji">ğŸ“¤</span>å†™ï¼šå…ˆå†™å†…å­˜ï¼Œå†æ…¢æ…¢åˆ·åˆ°ç¡¬ç›˜</div>
        </div>
    </div>

    <!-- å¡ç‰‡3ï¼šçº¯å†…å­˜åœºæ™¯ -->
    <div class="card" id="card3">
        <div class="binder"></div>
        <div class="title-box">çº¯å†…å­˜å­˜å‚¨ï¼Ÿå¯ä»¥ä½†æœ‰å‘ï¼</div>
        <div class="content">
            ç‰¹æ®Šåœºæ™¯ä¸‹ï¼ŒMySQLä¹Ÿèƒ½å…¨æ”¾å†…å­˜é‡Œï½<span class="emoji">ğŸ’¡</span>

            <div class="subtitle">1. Memoryå¼•æ“ï¼ˆHEAPè¡¨ï¼‰</div>
            <div class="list-item"><span class="emoji">ğŸ“</span>æ•°æ®å…¨åœ¨å†…å­˜ï¼Œé‡å¯å°±æ²¡äº†</div>
            <div class="code">CREATE TABLE temp_table (id INT) ENGINE=MEMORY;</div>
            <div class="list-item"><span class="emoji">âœ…</span>é€‚åˆï¼šä¸´æ—¶è¡¨ã€ä¼šè¯ç¼“å­˜</div>

            <div class="subtitle">2. ç¬¬ä¸‰æ–¹å†…å­˜å¼•æ“</div>
            <div class="list-item"><span class="emoji">ğŸ”„</span>é€šè¿‡æ’ä»¶é›†æˆRedisã€Memcachedï¼Œç›´æ¥è®¿é—®å†…å­˜æ•°æ®</div>

            <div class="subtitle">3. å†…å­˜æ–‡ä»¶ç³»ç»Ÿï¼ˆtmpfsï¼‰</div>
            <div class="list-item"><span class="emoji">ğŸ”—</span>æŠŠMySQLæ•°æ®ç›®å½•æŒ‚åˆ°å†…å­˜é‡Œï¼ˆå¦‚/dev/shmï¼‰</div>
            <div class="list-item" style="color: #e74c3c;"><span class="emoji">âš ï¸</span>é£é™©ï¼šæ–­ç”µå…¨ä¸¢ï¼Œåªé€‚åˆæµ‹è¯•ï¼</div>
        </div>
    </div>

    <!-- å¡ç‰‡4ï¼šæŒä¹…åŒ–ä¸æ€§èƒ½æƒè¡¡ -->
    <div class="card" id="card4">
        <div class="binder"></div>
        <div class="title-box">æŒä¹…åŒ–vsæ€§èƒ½ï¼šæ€ä¹ˆé€‰ï¼Ÿ</div>
        <div class="content">
            ä¸åŒåœºæ™¯ï¼Œå­˜å‚¨ç­–ç•¥å¤§ä¸åŒï½<span class="emoji">ğŸ“Š</span>

            <table class="table">
                <tr>
                    <th>é…ç½®/åœºæ™¯</th>
                    <th>å­˜å‚¨</th>
                    <th>æŒä¹…æ€§</th>
                    <th>é€‚ç”¨åœºæ™¯</th>
                </tr>
                <tr>
                    <td>é»˜è®¤InnoDB</td>
                    <td>å†…å­˜+ç¡¬ç›˜</td>
                    <td>é«˜</td>
                    <td>è®¢å•ã€ç”¨æˆ·æ•°æ®</td>
                </tr>
                <tr>
                    <td>é‡‘èäº¤æ˜“</td>
                    <td>ç¡¬ç›˜ä¼˜å…ˆ</td>
                    <td>æœ€é«˜â­</td>
                    <td>è½¬è´¦ã€æ”¯ä»˜</td>
                </tr>
                <tr>
                    <td>é«˜å¹¶å‘å†™å…¥</td>
                    <td>å†…å­˜+ç¡¬ç›˜</td>
                    <td>ä¸­ç­‰</td>
                    <td>ç§’æ€ã€æ—¥å¿—</td>
                </tr>
                <tr>
                    <td>å¼€å‘æµ‹è¯•</td>
                    <td>çº¯å†…å­˜</td>
                    <td>æ— </td>
                    <td>ä¸´æ—¶æ•°æ®</td>
                </tr>
            </table>

            <div style="margin-top: 10px; font-size: 14px; color: #666;">
                æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆå“¦ï½<span class="emoji">ğŸ’¡</span>
            </div>
        </div>
    </div>

    <!-- å¡ç‰‡5ï¼šæ€§èƒ½ä¼˜åŒ– -->
    <div class="card" id="card5">
        <div class="binder"></div>
        <div class="title-box">æ€§èƒ½ä¼˜åŒ–å°æŠ€å·§</div>
        <div class="content">
            <div class="subtitle">1. å†…å­˜ä¼˜åŒ– <span class="emoji">ğŸš€</span></div>
            <div class="list-item">è°ƒå¤§Buffer Poolï¼ˆå†…å­˜çš„50%-75%ï¼‰</div>
            <div class="code">innodb_buffer_pool_size = 12G</div>
            <div class="list-item">æ¢SSDï¼éšæœºIOæ€§èƒ½é£™å‡</div>

            <div class="subtitle">2. å‡å°‘ç¡¬ç›˜IO <span class="emoji">ğŸ”½</span></div>
            <div class="list-item">å»¶è¿Ÿåˆ·ç›˜ï¼ˆæ¯ç§’ä¸€æ¬¡ï¼‰</div>
            <div class="code">innodb_flush_log_at_trx_commit = 2</div>
            <div class="list-item">å‹ç¼©è¡¨ï¼šROW_FORMAT=COMPRESSED</div>

            <div class="subtitle">3. åˆ†å¸ƒå¼å­˜å‚¨ <span class="emoji">ğŸŒ</span></div>
            <div class="list-item">ç”¨äº‘æ•°æ®åº“ï¼ˆå¦‚AWS Auroraï¼‰è‡ªåŠ¨ç¼“å­˜çƒ­ç‚¹æ•°æ®</div>
            <div class="list-item">é€šè¿‡SAN/NASå®ç°å¤šèŠ‚ç‚¹å…±äº«</div>
        </div>
    </div>

    <!-- å¡ç‰‡6ï¼šæ€»ç»“ -->
    <div class="card" id="card6">
        <div class="binder"></div>
        <div class="title-box">åˆ’é‡ç‚¹ï¼ä¸€å¥è¯æ€»ç»“</div>
        <div class="content">
            <div class="list-item"><span class="emoji">âœ”ï¸</span>é»˜è®¤æ˜¯ã€Œå†…å­˜+ç¡¬ç›˜ã€æ··åˆå­˜å‚¨ï¼šå†…å­˜åŠ é€Ÿï¼Œç¡¬ç›˜å­˜æ•°æ®</div>
            <div class="list-item"><span class="emoji">âœ”ï¸</span>çº¯å†…å­˜æ–¹æ¡ˆï¼ˆå¦‚Memoryå¼•æ“ï¼‰å­˜åœ¨ï¼Œä½†<span class="highlight">ä¸¢æ•°æ®é£é™©é«˜</span></div>
            <div class="list-item"><span class="emoji">âœ”ï¸</span>ç”Ÿäº§ç¯å¢ƒæƒè¡¡ï¼š
                <ul style="margin-left: 10px; margin-top: 5px;">
                    <li>è¦æ€§èƒ½ â†’ å¤§å†…å­˜+SSD</li>
                    <li>è¦å®‰å…¨ â†’ æ—¥å¿—å®æ—¶åˆ·ç›˜</li>
                    <li>ä¸´æ—¶æ•°æ® â†’ ç”¨Memoryå¼•æ“</li>
                </ul>
            </div>

            <div style="margin-top: 30px; padding: 10px; background-color: rgba(78, 205, 196, 0.1); border-radius: 5px;">
                æœ‰ç–‘é—®ï¼Ÿè¯„è®ºåŒºèŠèŠä½ çš„MySQLå­˜å‚¨æ–¹æ¡ˆï½<br>
                å–œæ¬¢å°±ç‚¹èµæ”¶è—å§ï¼<span class="emoji">â¤ï¸</span>
            </div>

            <div style="margin-top: 20px;">
                <span class="tag">#ç¨‹åºå‘˜</span>
                <span class="tag">#æ•°æ®åº“ä¼˜åŒ–</span>
                <span class="tag">#æŠ€æœ¯åˆ†äº«</span>
            </div>
        </div>
    </div>
</div>

<div class="btn-container">
    <div>
        <button class="download-btn" onclick="downloadCard('card1')">ä¸‹è½½å¡ç‰‡1</button>
        <button class="download-btn" onclick="downloadCard('card2')">ä¸‹è½½å¡ç‰‡2</button>
        <button class="download-btn" onclick="downloadCard('card3')">ä¸‹è½½å¡ç‰‡3</button>
        <button class="download-btn" onclick="downloadCard('card4')">ä¸‹è½½å¡ç‰‡4</button>
        <button class="download-btn" onclick="downloadCard('card5')">ä¸‹è½½å¡ç‰‡5</button>
        <button class="download-btn" onclick="downloadCard('card6')">ä¸‹è½½å¡ç‰‡6</button>
    </div>
    <button class="download-all-btn" onclick="downloadAllCards()">ä¸€é”®ä¸‹è½½æ‰€æœ‰å¡ç‰‡</button>
</div>

<script>
    function downloadCard(cardId) {
        const node = document.getElementById(cardId);
        domtoimage.toPng(node, { quality: 1.0 })
            .then(function (dataUrl) {
                const link = document.createElement('a');
                link.download = `${cardId}.png`;
                link.href = dataUrl;
                link.click();
            })
            .catch(function (error) {
                console.error('ä¸‹è½½å¤±è´¥:', error);
            });
    }

    function downloadAllCards() {
        const cardIds = ['card1', 'card2', 'card3', 'card4', 'card5', 'card6'];
        // ç­‰å¾…1ç§’åå¼€å§‹ä¸‹è½½
        setTimeout(() => {
            cardIds.forEach((id, index) => {
                // æ¯å¼ å¡ç‰‡é—´éš”300msä¸‹è½½ï¼Œé¿å…å†²çª
                setTimeout(() => {
                    downloadCard(id);
                }, index * 300);
            });
        }, 1000);
    }
</script>
</body>
</html>