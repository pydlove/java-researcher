<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¢¨å¢¨è¯´-JVM GCæµç¨‹</title>
    <style>
        body {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding: 20px;
            background-color: #F0F8FF;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        .card {
            width: 450px;
            height: 600px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .header {
            height: 20px;
            background: linear-gradient(90deg, #FF9A8B, #FF6B6B);
            position: relative;
        }
        .header::before {
            content: "";
            position: absolute;
            width: 10px;
            height: 20px;
            background: #FF8E53;
            border-radius: 0 5px 5px 0;
        }
        .content {
            padding: 20px;
            flex: 1;
            overflow: hidden;
        }
        .footer {
            height: 60px;
            background: linear-gradient(90deg, #FF6B6B, #FF8E53);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        h1 {
            color: #FF6B6B;
            font-size: 24px;
            margin-bottom: 15px;
        }
        h2 {
            color: #FF8E53;
            font-size: 18px;
            margin: 15px 0 10px;
        }
        p, li {
            font-size: 14px;
            line-height: 1.6;
            color: #333333;
            margin-bottom: 10px;
        }
        ul {
            padding-left: 20px;
        }
        .highlight {
            background-color: rgba(255, 223, 0, 0.5);
            padding: 0.1em 0.3em;
            border-radius: 3px;
        }
        .code-block {
            background: #f5f5f5;
            padding: 12px;
            border-radius: 6px;
            font-family: Consolas, Monaco, "Courier New", monospace;
            font-size: 13px;
            line-height: 1.5;
            margin: 10px 0;
            white-space: pre;
        }
        .page-indicator {
            text-align: center;
            color: #999;
            font-size: 12px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
<!-- å°é¢å¡ -->
<div class="card">
    <div class="header"></div>
    <div class="content" style="display: flex; flex-direction: column; justify-content: center; align-items: center; background: linear-gradient(135deg, #FF9A8B, #FF6B6B);">
        <h1 style="color: white; font-size: 28px; text-align: center;">ğŸ“¢ é¢è¯•å¿…é—®</h1>
        <h1 style="color: white; font-size: 28px; text-align: center;">JVMåƒåœ¾å›æ”¶å…¨æµç¨‹</h1>
        <p style="color: white; text-align: center; font-size: 16px;">ç¨‹åºå‘˜å¿…çŸ¥çš„åƒåœ¾å›æ”¶æœºåˆ¶</p>
        <div class="code-block" style="background: rgba(255,255,255,0.2); color: white;">// ä¸€æ¬¡å®Œæ•´çš„GCæ—…ç¨‹<br>
if (object.isDead()) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;memory.recycle();<br>
}</div>
    </div>
    <div class="footer">å¢¨å¢¨è¯´-Java</div>
</div>

<!-- å¡ç‰‡1ï¼šGCè§¦å‘æ¡ä»¶ -->
<div class="card">
    <div class="header"></div>
    <div class="content">
        <h1>GCè§¦å‘æ¡ä»¶</h1>
        <h2>æ–°ç”Ÿä»£GC (Minor GC)</h2>
        <p>å½“<span class="highlight">EdenåŒºç©ºé—´ä¸è¶³</span>æ—¶è§¦å‘ï¼Œå›æ”¶Edenå’ŒSurvivoråŒº</p>

        <h2>è€å¹´ä»£GC (Full GC)</h2>
        <ul>
            <li>è€å¹´ä»£ç©ºé—´ä¸è¶³ï¼ˆæ™‹å‡å¤±è´¥ï¼‰</li>
            <li>æ–¹æ³•åŒº(Metaspace)ç©ºé—´ä¸è¶³</li>
            <li>æ˜¾å¼è°ƒç”¨<span class="highlight">System.gc()</span></li>
        </ul>

        <div class="code-block">// å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£
if (object.size > EdenThreshold) {
    allocateInOldGen();
} else {
    allocateInEden();
}</div>
    </div>
    <div class="footer">å¢¨å¢¨è¯´-Java</div>
</div>

<!-- å¡ç‰‡2ï¼šæ–°ç”Ÿä»£GCæµç¨‹ -->
<div class="card">
    <div class="header"></div>
    <div class="content">
        <h1>æ–°ç”Ÿä»£GCæµç¨‹</h1>
        <h2>1. æ ‡è®°é˜¶æ®µ</h2>
        <p>ä»<span class="highlight">GC Roots</span>å‡ºå‘æ ‡è®°å¯è¾¾å¯¹è±¡</p>
        <p>ä½¿ç”¨å¡è¡¨é¿å…å…¨é‡æ‰«æè€å¹´ä»£</p>

        <h2>2. å¤åˆ¶é˜¶æ®µ</h2>
        <p>å­˜æ´»å¯¹è±¡ä»Eden+FromåŒºå¤åˆ¶åˆ°ToåŒº</p>
        <p>å¹´é¾„è¾¾åˆ°é˜ˆå€¼(é»˜è®¤15)åˆ™æ™‹å‡è€å¹´ä»£</p>

        <div class="code-block">// å¤åˆ¶ç®—æ³•ä¼ªä»£ç 
for (Object obj : liveObjects) {
    if (obj.age >= MAX_AGE) {
        oldGen.add(obj);
    } else {
        toSpace.add(obj);
        obj.age++;
    }
}</div>
    </div>
    <div class="footer">å¢¨å¢¨è¯´-Java</div>
</div>

<!-- å¡ç‰‡3ï¼šè€å¹´ä»£GCæµç¨‹ -->
<div class="card">
    <div class="header"></div>
    <div class="content">
        <h1>è€å¹´ä»£GCæµç¨‹</h1>
        <h2>1. æ ‡è®°é˜¶æ®µ</h2>
        <p><span class="highlight">å¹¶å‘æ ‡è®°</span>ï¼ˆCMS/G1ï¼‰ï¼šä¸ç”¨æˆ·çº¿ç¨‹å¹¶è¡Œ</p>
        <p>æœ€ç»ˆæ ‡è®°ï¼šçŸ­æš‚STWä¿®æ­£å¼•ç”¨</p>

        <h2>2. æ¸…ç†é˜¶æ®µ</h2>
        <ul>
            <li>æ ‡è®°-æ¸…é™¤ï¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡</li>
            <li>æ ‡è®°-æ•´ç†ï¼šå‹ç¼©å†…å­˜ç©ºé—´</li>
        </ul>

        <div class="code-block">// CMSå¹¶å‘æ ‡è®°ä¼ªä»£ç 
void concurrentMark() {
    while (!isMarkComplete()) {
        markFromRoots();
        yieldForAppThreads();
    }
}</div>
        <p class="highlight">Full GCé€šå¸¸è€—æ—¶100msä»¥ä¸Š</p>
    </div>
    <div class="footer">å¢¨å¢¨è¯´-Java</div>
</div>

<!-- å¡ç‰‡4ï¼šGCå™¨å¯¹æ¯” -->
<div class="card">
    <div class="header"></div>
    <div class="content">
        <h1>GCå™¨å¯¹æ¯”</h1>
        <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 13px;">
            <tr style="background: #f5f5f5;">
                <th style="padding: 8px; text-align: left;">ç±»å‹</th>
                <th style="padding: 8px; text-align: left;">æ–°ç”Ÿä»£</th>
                <th style="padding: 8px; text-align: left;">è€å¹´ä»£</th>
                <th style="padding: 8px; text-align: left;">ç‰¹ç‚¹</th>
            </tr>
            <tr>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">Serial</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">å¤åˆ¶</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">æ ‡è®°-æ•´ç†</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">å•çº¿ç¨‹</td>
            </tr>
            <tr style="background: #f5f5f5;">
                <td style="padding: 8px; border-bottom: 1px solid #eee;">Parallel</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">å¤åˆ¶</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">æ ‡è®°-æ•´ç†</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">ååä¼˜å…ˆ</td>
            </tr>
            <tr>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">CMS</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">å¤åˆ¶</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">æ ‡è®°-æ¸…é™¤</td>
                <td style="padding: 8px; border-bottom: 1px solid #eee;">ä½å»¶è¿Ÿ</td>
            </tr>
            <tr style="background: #f5f5f5;">
                <td style="padding: 8px;">G1</td>
                <td style="padding: 8px;">åˆ†åŒºå¤åˆ¶</td>
                <td style="padding: 8px;">åˆ†åŒºæ•´ç†</td>
                <td style="padding: 8px;">å¹³è¡¡å‹</td>
            </tr>
        </table>

        <p><span class="highlight">G1</span>é€‚åˆå¤§å †å†…å­˜(6GB+)ï¼Œå¹³è¡¡ååå’Œå»¶è¿Ÿ</p>
        <p><span class="highlight">ZGC</span>é€‚åˆTBçº§å†…å­˜ï¼Œåœé¡¿<10ms</p>
    </div>
    <div class="footer">å¢¨å¢¨è¯´-Java</div>
</div>

<!-- å¡ç‰‡5ï¼šä¼˜åŒ–å»ºè®® -->
<div class="card">
    <div class="header"></div>
    <div class="content">
        <h1>GCä¼˜åŒ–æŒ‡å—</h1>
        <h2>å…³é”®æŒ‡æ ‡</h2>
        <ul>
            <li><span class="highlight">åœé¡¿æ—¶é—´</span>ï¼šCMS/G1/ZGCè¡¨ç°ä¼˜å¼‚</li>
            <li><span class="highlight">ååé‡</span>ï¼šParallel Scavengeæœ€ä¼˜</li>
            <li>å†…å­˜å ç”¨ï¼šZGCéœ€é¢å¤–ä¿ç•™20%ç©ºé—´</li>
        </ul>

        <h2>ä¼˜åŒ–æ–¹å‘</h2>
        <div class="code-block">// JVMå‚æ•°ç¤ºä¾‹(JDK8)
-XX:+UseG1GC               // å¯ç”¨G1
-XX:MaxGCPauseMillis=200   // ç›®æ ‡åœé¡¿æ—¶é—´
-XX:G1HeapRegionSize=4m    // åˆ†åŒºå¤§å°</div>

        <p><span class="highlight">é¿å…</span>è¿‡æ—©æ™‹å‡ï¼šè°ƒæ•´SurvivoråŒºå¤§å°</p>
        <p><span class="highlight">å‡å°‘</span>Full GCï¼šå¢å¤§è€å¹´ä»£æ¯”ä¾‹</p>
    </div>
    <div class="footer">å¢¨å¢¨è¯´-Java</div>
</div>

<!-- æ€»ç»“å¡ -->
<div class="card">
    <div class="header"></div>
    <div class="content">
        <h1>GCæµç¨‹æ€»ç»“</h1>
        <ul>
            <li>Minor GCï¼šé«˜é¢‘ï¼Œå¤åˆ¶ç®—æ³•ï¼ŒSTWçŸ­</li>
            <li>Full GCï¼šä½é¢‘ï¼Œæ ‡è®°-æ¸…é™¤/æ•´ç†ï¼ŒSTWé•¿</li>
            <li>é€‰æ‹©GCå™¨éœ€æƒè¡¡<span class="highlight">åå</span>å’Œ<span class="highlight">å»¶è¿Ÿ</span></li>
        </ul>

        <h2>å®æˆ˜æ£€æŸ¥æ¸…å•</h2>
        <p>âœ… ç›‘æ§GCæ—¥å¿—</p>
        <p>âœ… é¿å…System.gc()</p>
        <p>âœ… æ ¹æ®åº”ç”¨ç‰¹æ€§é€‰æ‹©GCå™¨</p>
        <p>âœ… åˆç†è®¾ç½®å †å¤§å°</p>

        <div class="code-block" style="background: rgba(255, 154, 139, 0.1);">// æœ€ä½³å®è·µ
if (isLowLatencyApp) {
    useG1OrZGC();
} else if (isThroughputFirst) {
    useParallelGC();
}</div>
    </div>
    <div class="footer">å¢¨å¢¨è¯´-Java</div>
</div>
</body>
</html>